
    <%-include('header2')%>
 <br>
      <form class="d-flex m-3" >
          <input
            type="text"
            name="blogSearch"
            placeholder="Search Blog"
            value="<%= search %>"
            class="form-control me-2"
            style="width: 300px;"
          />
          <button type="submit" name="Search" class="btn btn-primary me-2"><i class="bi bi-search"></i></button>
          <a href="/" class="btn btn-secondary">Reset</a>
        </form>
 
    <div class="container-fluid mt-4">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar bg-light p-3">
                <h4>Categories</h4>
                <ul class="nav flex-column">
                  <li class="nav-item mb-2"> <a class="nav-link" href="/" > All (<%= blogdata.length%>) </a> </li>
                    <% categorydata.map((v, i) => { %>
                        <li class="nav-item mb-2">
                          <a class="nav-link" href="/?catid=<%= v.id %>"><%= v.categoryname %>(<%= v.Blogds.length %>)</a>
                        </li>
                    <% }) %>
                </ul>
            </div>
            <!-- Blog Content -->
            <div class="col-md-9">
                <div class="row">
                    <% blogdata.map((v, i) => { %>
                        <div class="col-md-6">
                            <div class="card blog-card">
                                <div class="card-body">
                                    <img src="<%= v.blogImage %>" width="300px" height="300px" />
                                    <h5 class="card-title"><%= v.blogTitle.substring(0,80)%>...</h5>
                                    <!-- <p class="card-text"><%- v.blogDescription %></p> -->
                                    <a href="/singleblog/<%= v.id %> " class="btn btn-primary">Read More</a>
                                </div>
                            </div>
                        </div>
                    <% }) %>
                </div>
            </div>
        </div>
        <nav>
            <ul class="pagination justify-content-center">
              <% if (Number(page) > 0) { %>
              <li class="page-item">
                <a
                  href="?page=<%= Number(page) - 1 %>&blogSearch=<%= search %>"
                  class="page-link"
                >
                  Previous
                </a>
              </li>
              <% } %>

              <% for (var i = 0; i < totalPage; i++) { %>
              <li class="page-item <%= page == i ? 'active' : '' %>">
                <a
                  href="?page=<%= i %>&blogSearch=<%= search %>"
                  class="page-link"
                >
                  <%= i + 1 %>
                </a>
              </li>
              <% } %>

              <% if (Number(page) < totalPage - 1) { %>
              <li class="page-item">
                <a
                  href="?page=<%= Number(page) + 1 %>&blogSearch=<%= search %>"
                  class="page-link"
                >
                  Next
                </a>
              </li>
              <% } %>
            </ul>
          </nav>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
